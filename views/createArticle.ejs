<!DOCTYPE html>
<html lang="en">
<%- include('partials/_head.ejs') %>
<body>
  <%- include('partials/_header.ejs') %>
  <main role="main" class="container mt-4">
    <h1>Create New Article</h1>
    <form action="/articles/create" method="POST" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input type="text" class="form-control" id="title" name="title" required>
      </div>
      <div class="mb-3">
        <label for="content" class="form-label">Content</label>
        <div id="content" style="height: 300px;"></div>
        <input type="hidden" name="content" id="hidden-content">
      </div>
      <div class="mb-3">
        <label for="category" class="form-label">Category</label>
        <select class="form-select" id="category" name="category" required>
          <option value="">Select a category</option>
          <option value="Technology">Technology</option>
          <option value="Science">Science</option>
          <option value="Health & Wellness">Health & Wellness</option>
          <option value="Business & Finance">Business & Finance</option>
          <option value="Arts & Culture">Arts & Culture</option>
          <option value="Lifestyle">Lifestyle</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="tags" class="form-label">Tags (comma-separated)</label>
        <input type="text" class="form-control" id="tags" name="tags">
      </div>
      <div class="mb-3">
        <label for="image" class="form-label">Upload Image</label>
        <input type="file" class="form-control" id="image" name="image" accept="image/*">
      </div>
      <button type="submit" class="btn btn-primary">Submit Article</button>
    </form>
  </main>
  <%- include('partials/_footer.ejs') %>
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
  <script>
    var quill = new Quill('#content', {
      theme: 'snow'
    });
    document.querySelector('form').onsubmit = function() {
      document.getElementById('hidden-content').value = quill.root.innerHTML;
    };
  </script>
</body>
</html>